(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{299:function(e,s,a){e.exports={dialogs:"Dialogs_dialogs__3rhBd",dialogItems:"Dialogs_dialogItems__2DeWj",dialog:"Dialogs_dialog__3Jd_Q",avatar:"Dialogs_avatar__Rd1mz",name:"Dialogs_name__3ZfLC",active:"Dialogs_active__iBPW0"}},300:function(e,s,a){e.exports={message:"Message_message__6vAqY",my:"Message_my__9W980",interlocutor:"Message_interlocutor__2tiEa"}},301:function(e,s,a){e.exports={messenger:"Messenger_messenger__fE_ba",messages:"Messenger_messages__3xQu4",newMessage:"Messenger_newMessage__3Q3cG",newMessageTextarea:"Messenger_newMessageTextarea__3F_4P",newMessageSend:"Messenger_newMessageSend__1nyho"}},308:function(e,s,a){"use strict";a.r(s);var t=a(0),n=(a(1),a(299)),c=a.n(n),i=a(15),r=function(e){return Object(t.jsx)(i.b,{to:"/dialogs/".concat(e.state.id),activeClassName:c.a.active,children:Object(t.jsxs)("div",{className:"".concat(c.a.dialog),children:[Object(t.jsx)("div",{className:c.a.avatar,children:Object(t.jsx)("img",{src:e.state.avatarURL,alt:""})}),Object(t.jsx)("p",{className:c.a.name,children:e.state.name})]})})},o=a(105),g=a(300),l=a.n(g),m=function(e){return Object(t.jsx)("span",{className:"".concat(l.a.message," ").concat(0===e.state.fromId?l.a.my:l.a.interlocutor),children:e.state.message})},d=a(301),j=a.n(d),u=a(135),_=a(136),b=a(81),x=a(82),O=Object(x.a)(50),f=Object(_.a)({form:"newMessage"})((function(e){return Object(t.jsxs)("form",{className:j.a.newMessage,name:"newMessage",onSubmit:e.handleSubmit,children:[Object(t.jsx)("div",{style:{width:"100%"},children:Object(t.jsx)(u.a,{className:j.a.newMessageTextarea,name:"message",placeholder:"New message",rows:1,validate:[x.b,O],component:b.b})}),Object(t.jsx)("button",{className:j.a.newMessageSend,children:"Send"})]})})),h=function(e){var s=e.messages.map((function(e){return Object(t.jsx)(m,{state:e},e.id)}));return Object(t.jsxs)("div",{className:j.a.messenger,children:[Object(t.jsx)("div",{className:j.a.messages,children:s}),Object(t.jsx)(f,{onSubmit:function(s){e.sendMessage(s.message),e.resetForm("newMessage")}})]})},M=a(12),v=function(e){return e.dialogsPage.dialogs},p=function(e){return e.dialogsPage.messenger.messages},w=Object(M.b)((function(e){return{messages:p(e)}}),{sendMessage:o.c,resetForm:o.b})(h),N=a(9),y=a(3),D=a(10),S=function(e){return{isAuth:e.auth.isAuth}},A=function(e){return Object(M.b)(S)((function(s){return s.isAuth?Object(t.jsx)(e,Object(y.a)({},s)):Object(t.jsx)(D.a,{to:"/login"})}))};s.default=Object(N.d)(Object(M.b)((function(e){return{dialogs:v(e)}})),A)((function(e){var s=e.dialogs.map((function(e){return Object(t.jsx)(r,{state:e},e.id)}));return Object(t.jsxs)("div",{className:c.a.dialogs,children:[Object(t.jsx)("div",{className:c.a.dialogItems,children:s}),Object(t.jsx)(w,{})]})}))}}]);