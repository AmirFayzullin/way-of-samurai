(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{302:function(t,s,e){t.exports={wrapper:"ProfileInfo_wrapper__StvP8",avatar:"ProfileInfo_avatar__4yKwh"}},303:function(t,s,e){t.exports={wrapper:"PersonalInfo_wrapper__2rq8L",avatar:"PersonalInfo_avatar__38Gs4",personalInfo:"PersonalInfo_personalInfo__3thA4",nameAndStatus:"PersonalInfo_nameAndStatus__1uWP_",jobStatus:"PersonalInfo_jobStatus__2dCXC",fullName:"PersonalInfo_fullName__SpBaK"}},304:function(t,s,e){t.exports={status:"Status_status__2QXDz",statusInput:"Status_statusInput__3sUDF",up:"Status_up__3Lkm8"}},305:function(t,s,e){t.exports={postsBlock:"MyPosts_postsBlock__8bilR",posts:"MyPosts_posts__1yU3w"}},306:function(t,s,e){t.exports={item:"Post_item__1js_x"}},307:function(t,s,e){"use strict";e.r(s);var a=e(3),r=e(64),n=e(65),o=e(70),u=e(68),i=e(0),c=e(1),p=e.n(c),l=e(302),j=e.n(l),f=e(28),b=e(66),d=e(303),h=e.n(d),m=e(69),O=e(304),_=e.n(O),x=function(t){var s=Object(c.useState)(!1),e=Object(m.a)(s,2),a=e[0],r=e[1],n=Object(c.useState)(t.status),o=Object(m.a)(n,2),u=o[0],p=o[1];return Object(c.useEffect)((function(){p(t.status)}),[t.status]),Object(i.jsxs)(i.Fragment,{children:[!a&&Object(i.jsx)("p",{onDoubleClick:function(){return r(!0)},className:_.a.status,children:t.status||"-----------"}),a&&Object(i.jsx)("input",{className:_.a.statusInput,autoFocus:!0,onBlur:function(){r(!1),t.updateStatus(u)},onChange:function(t){return p(t.currentTarget.value)},value:u})]})},v=function(t){var s=t.profile,e=t.status,a=t.updateStatus;return Object(i.jsxs)("div",{className:h.a.personalInfo,children:[Object(i.jsxs)("div",{className:h.a.nameAndStatus,children:[Object(i.jsx)("p",{className:h.a.fullName,children:s.fullName}),Object(i.jsx)(x,{status:e,updateStatus:a})]}),Object(i.jsxs)("div",{className:h.a.jobStatus,children:[Object(i.jsx)("p",{className:h.a.isLookingForJob,children:s.lookingForAJob?"\u0418\u0449\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0443":"\u041d\u0435 \u0438\u0449\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0443"}),Object(i.jsx)("p",{className:h.a.lookingForJobDescription,children:s.lookingForAJobDescription})]})]})},P=function(t){var s=t.profile,e=t.status,a=t.updateStatus;return s?Object(i.jsxs)("div",{className:j.a.wrapper,children:[Object(i.jsx)("img",{src:s.photos.large||b.a,className:j.a.avatar,alt:"ava"}),Object(i.jsx)(v,{profile:s,status:e,updateStatus:a})]}):Object(i.jsx)(f.a,{})},g=e(305),S=e.n(g),I=e(306),k=e.n(I),N=function(t){return Object(i.jsxs)("div",{className:k.a.item,children:[Object(i.jsx)("img",{src:"https://static.toiimg.com/photo/72975551.cms",alt:"avatar"}),t.message,Object(i.jsxs)("div",{children:[Object(i.jsx)("span",{children:"Like"})," ",t.likesCount]})]})},F=e(135),w=e(136),y=e(82),C=e(81),U=function(t){return t.profilePage.profile},q=function(t){return t.profilePage.status},A=function(t){return t.profilePage.isFetchingProfile},D=function(t){return t.profilePage.posts},J=e(12),B=e(104),L=e(105),M=Object(y.a)(100),K=Object(w.a)({form:"newPost"})((function(t){var s=t.handleSubmit;return Object(i.jsxs)("form",{name:"newPost",onSubmit:s,children:[Object(i.jsx)("div",{children:Object(i.jsx)(F.a,{name:"post",placeholder:"New post",validate:[y.b,M],component:C.b})}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{children:"Add post"})})]})})),X=Object(J.b)((function(t){return{posts:D(t)}}),{addPost:B.a,resetForm:L.b})((function(t){var s=t.posts,e=t.addPost,a=t.resetForm,r=s.map((function(t){return Object(i.jsx)(N,{message:t.message,likesCount:t.likesCount},t.id)}));return Object(i.jsxs)("div",{className:S.a.postsBlock,children:[Object(i.jsx)("h2",{children:"My posts"}),Object(i.jsx)(K,{onSubmit:function(t){e(t.post),a("newPost")}}),Object(i.jsx)("div",{className:S.a.posts,children:r})]})})),z=function(t){var s=t.profile,e=t.status,a=t.updateStatus;return Object(i.jsxs)("div",{children:[Object(i.jsx)(P,{profile:s,status:e,updateStatus:a}),Object(i.jsx)(X,{})]})},E=e(10),G=e(9),Q=e(29),R=function(t){Object(o.a)(e,t);var s=Object(u.a)(e);function e(){return Object(r.a)(this,e),s.apply(this,arguments)}return Object(n.a)(e,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId||this.props.authUserId;t?(this.props.requestProfile(t),this.props.requestStatus(t)):this.props.history.push("/login")}},{key:"shouldComponentUpdate",value:function(t,s,e){var a=this.props.match.params.userId,r=t.match.params.userId;if(a===r||!r&&!t.authUserId||this.props.isFetchingProfile)return!0;var n=r||t.authUserId;return n?(this.props.requestProfile(n),this.props.requestStatus(n),!0):(this.props.history.push("/login"),!0)}},{key:"render",value:function(){return this.props.isFetchingProfile||!this.props.profile?Object(i.jsx)(f.a,{}):Object(i.jsx)(z,Object(a.a)({},this.props))}}]),e}(p.a.Component);s.default=Object(G.d)(Object(J.b)((function(t){return{profile:U(t),status:q(t),isFetchingProfile:A(t),authUserId:Object(Q.a)(t)}}),{setUserProfile:B.e,toggleProfileFetching:B.f,requestProfile:B.c,requestStatus:B.d,updateStatus:B.g}),E.f)(R)}}]);